# Matrice de responsabilité – SecureCloud / AWS

| Domaine / Action                                      | Responsable SecureCloud (Client)                                                                                                                                               | Responsable AWS (Fournisseur)                                                                                             |
| ----------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------- |
| **Clés API AWS / Authentification**                   | Suppression des `access_key` / `secret_key` du code Terraform. Utilisation d’un profil AWS CLI (`AWS_PROFILE`) ou variables d’environnement. Rotation des clés et gestion IAM. | Sécurité, disponibilité et durcissement du service IAM. Protection de l’infrastructure d’authentification et des API AWS. |
| **Secrets applicatifs (mot de passe RDS)**            | Fourniture du mot de passe via `terraform.tfvars` (non versionné) et/ou Ansible Vault. Politique de mot de passe fort. Protection du fichier `terraform.tfstate`.              | Stockage chiffré du mot de passe dans le service RDS une fois provisionné. Sécurité interne du moteur géré.               |
| **Protection du fichier Terraform state (`tfstate`)** | Ne pas versionner le `terraform.tfstate`. Mettre en place un backend sécurisé (ex : S3 chiffré + verrouillage DynamoDB) si environnement réel.                                 | Sécurité physique et logique du stockage S3 si backend distant utilisé.                                                   |
| **Segmentation réseau – Design VPC / Tiering AD**     | Conception du VPC (CIDR), création des subnets Tier0 / Tier1 / Tier2, cloisonnement logique, absence de route Internet pour Tier0 et Tier2.                                    | Disponibilité et sécurité de l’infrastructure réseau AWS (fabric réseau, hyperviseurs, isolation inter-clients).          |
| **Tier 0 – Subnet isolé (administration)**            | Création d’un subnet isolé sans route vers Internet pour simuler le Tier 0. Aucun service exposé.                                                                              | Maintien de l’isolation réseau et du plan de contrôle AWS.                                                                |
| **Security Groups – Web (Tier1)**                     | Définition des règles : HTTP/HTTPS ouverts, SSH restreint à `allowed_ssh_cidr (/32)`. Application du principe du moindre privilège.                                            | Fonctionnement stateful des Security Groups, filtrage réseau distribué, résilience du service.                            |
| **Security Groups – Base de données (Tier2)**         | Configuration de la règle MySQL autorisée uniquement depuis le SG Web. `publicly_accessible = false`.                                                                          | Isolation réseau interne du service RDS et protection contre exposition publique involontaire.                            |
| **Cycle de vie – Choix de l’AMI VM (IaaS)**           | Sélection d’une AMI maintenue (Ubuntu 22.04 LTS via `data aws_ami`). Mise en place d’une stratégie de mise à jour.                                                             | Mise à disposition des AMI officielles et maintien du catalogue d’images.                                                 |
| **Patching OS VM (IaaS)**                             | Application des mises à jour de sécurité (via Ansible), gestion des services SSH et firewall local.                                                                            | Patching de l’hyperviseur et de l’infrastructure physique sous-jacente.                                                   |
| **Patching moteur Base de données (PaaS RDS)**        | Choix de la version moteur (MySQL 8.0) et planification des mises à jour majeures si nécessaire.                                                                               | Application des correctifs de sécurité du moteur RDS et maintenance de l’OS sous-jacent.                                  |
| **Chiffrement EBS (VM Tier1)**                        | Activation de `encrypted = true`. Choix éventuel d’une clé KMS personnalisée (CMK).                                                                                            |                                                                                                                           |

